<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 32.7.1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
		
		
<title>Requirements for Federated Learning API</title>
		
		
		
	
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style>

/****************************************************/
/*  property tables                                 */
/****************************************************/

/* ensure confomity of width for property tables */
table.tabledef {
	border-spacing: 0px;
	border: none;
	font-size: 1em;
	width: 100%
}

table.tabledef td, table.tabledef th {
	border: none;
	background-color: rgb(236,246,255);
	color: rgb(0,0,0);
	padding: 0.3em;
	vertical-align: top;
}

table.tabledef th {
    text-align: left;
	vertical-align: top;
    width: 8em;
    padding-left: 1em;
}

table.tabledef th {
    border-left: 5px solid rgb(145,200,255);
}

table.tabledef td {
    padding: 3px 3px 3px 10px;
}

table.tabledef td > p:first-child {
	padding: 0em;
	margin: 0em
}

a code
{
    color: rgb(3,69,117) !important;
}

</style>
<meta name="description" content="This report aims to define the requirements for interfaces that enable the implementation and management of federated learning systems.">
<link rel="canonical" href="https://w3c.github.io/federated-learning-cg/reports/index.html">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "federated-learning",
  "edDraftURI": "https://w3c.github.io/federated-learning-cg/reports/index.html",
  "latestVersion": "https://w3c.github.io/federated-learning-cg/reports/index.html",
  "specStatus": "CG-FINAL",
  "shortName": "fl-api",
  "noRecTrack": true,
  "copyrightStart": "2022",
  "editors": [
    {
      "name": "신성필(Sungpil Shin)",
      "company": "한국전자통신연구원(ETRI)",
      "url": "mailto:spshin@etri.re.kr",
      "companyURL": "https://etri.re.kr/eng/main/main.etri",
      "w3cid": 117861
    },
    {
      "name": "이원석(Wonsuk Lee)",
      "company": "한국전자통신연구원(ETRI)",
      "url": "mailto:wonsuk.lee@etri.re.kr",
      "companyURL": "https://etri.re.kr/eng/main/main.etri",
      "w3cid": 34457
    }    
  ],
  "processVersion": 2020,
  "includePermalinks": true,
  "permalinkEdge": true,
  "permalinkHide": false,
  "github": {
    "repoURL": "https://github.com/w3c/federated-learning-cg",
    "branch": "master"
  },
  "preProcess": [
    null
  ],
  "localBiblio": {
    null
    /*    
    "epub-3": {
      "title": "EPUB 3",
      "href": "https://www.w3.org/TR/epub/",
      "publisher": "W3C",
      "id": "epub-3"
    }
*/    
  },
  "publishDate": "2023-12-28",
  "publishISODate": "2023-12-28T00:00:00.000Z",
  "generatedSubtitle": "Final Community Group Report 28 December 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/cg-final"></head>
	<body class="h-entry"><div class="head">
    
    <h1 id="title" class="title">Requirements for Federated Learning API</h1> 
    <p id="w3c-state">
      <a href="https://www.w3.org/standards/types#reports">Final Community Group Report</a>
      <time class="dt-published" datetime="2023-12-28">28 December 2023</time>
    </p>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://w3c.github.io/federated-learning-cg/reports/index.html">https://w3c.github.io/federated-learning-cg/reports/index.html</a>
            </dd>
      <dt>Latest published version:</dt><dd>
              <a href="https://w3c.github.io/federated-learning-cg/reports/index.html">https://w3c.github.io/federated-learning-cg/reports/index.html</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/federated-learning-cg/reports/index.html">https://w3c.github.io/federated-learning-cg/reports/index.html</a></dd>
      
      
      
      
      <dt>Editor:</dt><dd class="editor p-author h-card vcard" data-editor-id="34457">
    <span class="p-name fn">신성필(Sungpil Shin)</span> (<a class="p-org org h-org" href="https://etri.re.kr/eng/main/main.etri">한국전자통신연구원(ETRI)</a>)<br>
    <span class="p-name fn">이원석(Wonsuk Lee)</span> (<a class="p-org org h-org" href="https://etri.re.kr/eng/main/main.etri">한국전자통신연구원(ETRI)</a>)
  </dd>
      
      
      <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/federated-learning-cg">GitHub w3c/federated-learning-cg</a>
        (<a href="https://github.com/w3c/federated-learning-cg/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/federated-learning-cg/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/federated-learning-cg/issues/">open issues</a>)
      </dd>
    </dl>
    
    <p class="copyright">
          <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
          ©
          2022-2023
          
          the Contributors to the Requirements for Federated Learning API
          Specification, published by the
          <a href="https://www.w3.org/groups/cg/federated-learning">Federated Learning Community Group</a> under the
          <a href="https://www.w3.org/community/about/agreements/fsa/">W3C Community Final Specification Agreement (FSA)</a>. A human-readable
                <a href="https://www.w3.org/community/about/agreements/fsa-deed/">summary</a>
                is available.
              
        </p>
    <hr title="Separator for header">
  </div>
		<section id="abstract" class="introductory"><h2>Abstract</h2>
			<p>This report aims to define the requirements for interfaces that enable the implementation and management of federated learning systems. Federated Learning is an 
        innovative approach to building efficient machine learning models through collaborative learning across multiple devices or servers, while prioritizing data privacy 
        and security. This document comprehensively addresses the fundamental interfaces, protocols, and data handling standards necessary for the effective implementation 
        and management of federated learning systems.</p>
      <p>The report identifies the key elements required for the design and implementation of a standard API and defines their interactions to support developers in more 
        easily building and operating federated learning systems. By doing so, it aims to maximize the potential of federated learning, enabling the creation of powerful systems 
        that can effectively learn in various devices and environments while maintaining security and data privacy. This report serves as an essential guideline for developers, 
        researchers, and technical experts in standardizing and understanding federated learning systems.</p>
		</section>
		<section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This specification was published by the
      <a href="https://www.w3.org/groups/cg/federated-learning">Federated Learning Community Group</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/final/">W3C Community Final Specification Agreement (FSA)</a>
            other conditions apply.
          
      Learn more about
      <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>.
    </p><p>
    <a href="https://github.com/w3c/federated-learning-cg/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    
  </p>
</section>
<nav id="toc">
  <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
  <ol class="toc">
    <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
    <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
    <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li>
    <li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">2. </bdi>Terminology</a></li>
    <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">3. </bdi>Conformance</a></li>  
    <li class="tocline"><a class="tocxref" href="#key-technical-aspects"><bdi class="secno">4. </bdi>Key Technical Aspects</a>
      <ol class="toc">
        <li class="tocline"><a class="tocxref" href="#parameter-client-server-assignment"><bdi class="secno">4.1 </bdi>Parameter Client-server Assignment</a></li>
        <li class="tocline"><a class="tocxref" href="#model-distribution-strategy"><bdi class="secno">4.2 </bdi>Model Distribution Strategy</a></li>
        <li class="tocline"><a class="tocxref" href="#parameter-aggregation-strategies"><bdi class="secno">4.3 </bdi>Parameter Aggregation Strategies</a></li>
        <li class="tocline"><a class="tocxref" href="#model-training-and-optimization"><bdi class="secno">4.4 </bdi>Model Training and Optimization</a></li>
        <li class="tocline"><a class="tocxref" href="#synchronous-and-asynchronous-learning"><bdi class="secno">4.5 </bdi>Synchronous and Asynchronous Learning</a></li>         
        <li class="tocline"><a class="tocxref" href="#parameter-server-operations"><bdi class="secno">4.6 </bdi>Parameter Server Operations</a></li>
  
      </ol>
    </li>      
    <li class="tocline"><a class="tocxref" href="#requirements"><bdi class="secno">5. </bdi>Requirements</a>
      <ol class="toc">
        <li class="tocline"><a class="tocxref" href="#general-requirements"><bdi class="secno">5.1 </bdi>General Requirements</a></li>        
        <li class="tocline"><a class="tocxref" href="#dev-registration"><bdi class="secno">5.2 </bdi>Device Registration</a></li>
        <li class="tocline"><a class="tocxref" href="#data-upload"><bdi class="secno">5.3 </bdi>Data Upload</a></li>
        <li class="tocline"><a class="tocxref" href="#model-sync"><bdi class="secno">5.4 </bdi>Model Synchronization</a></li>
        <li class="tocline"><a class="tocxref" href="#model-evaluation"><bdi class="secno">5.5 </bdi>Model Evaluation</a></li>
        <li class="tocline"><a class="tocxref" href="#result-retrieval"><bdi class="secno">5.6 </bdi>Result Retrieval</a></li>
        <li class="tocline"><a class="tocxref" href="#training-control"><bdi class="secno">5.7 </bdi>Training Control</a></li>        
        <li class="tocline"><a class="tocxref" href="#security-privacy"><bdi class="secno">5.8 </bdi>Security and Privacy</a></li>
        <li class="tocline"><a class="tocxref" href="#extensibility-compatibility"><bdi class="secno">5.9 </bdi>Extensibility and Compatibility</a></li>        
      </ol>
    </li>

    <li class="tocline"><a class="tocxref" href="#example-of-federated-learning-api"><bdi class="secno">6. </bdi>Example of Federated Learning API</a></li>
    
    <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a>
      <ol class="toc">
        <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li>
      </ol>
    </li>
  </ol>
</nav>
		<section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>

			<p>
        The scope of the requirements for Federated Learning API specification encompasses the development of a standardized interface that enables the implementation and management of federated learning systems. 
        It focuses on the communication and coordination between central servers and client devices participating in federated learning, with an emphasis on privacy-preserving machine learning techniques. 
        The specification covers the interactions, protocols, and data formats necessary for secure and efficient model training across decentralized devices. 
      </p>

        <figure id="federated-learning">
          <img src="images/intro1.png" alt="Basic process of executing federated learning">
          <figcaption> <span class="fig-title">Figure 1. Basic process of executing federated learning </span></figcaption>
        </figure>

      <p>
        The Figure illustrates the basic process of executing federated learning after configuration of central server and client nodes, and setup the topology of model to client nodes.
        <ol>
          <li><b>Model Training Initiation</b>: Each database 1, 2, ..., k is used at their respective client nodes. Each client node uses its local database to train a model independently. </li>
          <li><b>Sending Encrypted Gradients</b>: The gradients (which are the necessary information to update the model) from the trained model are encrypted and sent to central server A. This step is marked as (1) in the diagram.</li>
          <li><b>Secure Aggregation</b>: Server A securely aggregates the encrypted gradients received from various clients. This step is represented as (2) in the diagram. At this stage, the server combines the updates from all clients into one aggregated update.</li>
          <li><b>Sending Back Model Updates</b>: The aggregated update is then sent back to each client node, as indicated by (3) in the diagram. This ensures that each client's model is kept up-to-date.</li>
          <li><b>Updating Models</b>: Client nodes update their models using the updates received from the server, which is shown as (4) in the diagram. This updating process is iterative.</li>          
        </ol>  
      </p>
			<p>
        Through the process, the central server effectively trains a model without having to access the actual data from clients, thereby ensuring data privacy while leveraging the learning capabilities of multiple clients with distributed data.
        The key technical aspects of federated learning are described in Chapter 4, and requirements are described in Chapter 5. 
      </p>

    </section>

		<section id="terminology"><div class="header-wrapper"><h2 id="x2-terminology"><bdi class="secno">2 </bdi>Terminology</h2><a class="self-link" href="#terminology" aria-label="Permalink for Section 1.2"></a></div>
      <p>The following terms and definitions are described in connection with the context of federated learning, providing a foundational understanding for the concepts discussed in this document.</p>
      <ul>
        <li>Central Server: In federated learning, the central server acts as a hub that coordinates the learning process, aggregates model updates, and distributes aggregated updates back to client devices.</li>
        <li>Client Devices: These are decentralized devices participating in federated learning. Each client device uses its local data to train models independently and sends updates back to the central server.</li>
      </ul>
		</section>

		<section id="conformance"><div class="header-wrapper"><h2 id="x3-conformance"><bdi class="secno">3 </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 1.3"></a></div>
      <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p>
      <p>
        The key word <em class="rfc2119">MUST</em> in this document
        is to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
    </section>

    <section id="key-technical-aspects"><div class="header-wrapper"><h2 id="x4-key-technical-aspects"><bdi class="secno">4. </bdi>Key Technical Aspects</h2><a class="self-link" href="#key-technical-aspects" aria-label="Permalink for Section 4."></a></div>
      <p>The key technical aspects section outlines the fundamental techniques and approaches to federated learning. This section encompasses the fundamental techniques and approaches for executing federated learning including configuration of parameter servers and clients, node and model assignment, 
         parameter aggregation strategies, model training and optimization, synchronous and asynchronous learning, and parameter server operations.</p>    

			<section id="parameter-client-server-assignment"><div class="header-wrapper"><h3 id="x4-1-parameter-client-server-assignment"><bdi class="secno">4.1 </bdi>Parameter Server-client Assignment</h3><a class="self-link" href="#parameter-client-server-assignment" aria-label="Permalink for Section 4.1"></a></div>
				<p>The parameter server and the clients are essential components for executing federated learning. The parameter server acts as a centralized repository for model parameters, while clients perform model training using local data.</p>
        <ul>
          <li><b>Parameter server setup</b>: The parameter server manages the parameters of the trained model and aggregates updates received from clients. It maintains the current state of the model and, when necessary, distributes model updates to the clients.</li>
          <li><b>Client assignment and configuration</b>: Each client independently trains a model using its local data. Clients send updates generated during the training process back to the parameter server.</li>
        </ul>
				<p>Client nodes are assigned specific models or parts of a model. This assignment varies depending on the client's processing capabilities, the type and amount of data held, and their network location. Efficient node assignment is crucial for optimizing the overall system performance.</p>
			</section>

			<section id="model-distribution-strategy"><div class="header-wrapper"><h3 id="x4-2-model-distribution-strategy"><bdi class="secno">4.2 </bdi>Model Distribution Strategy</h3><a class="self-link" href="#model-distribution-strategy" aria-label="Permalink for Section 4.2"></a></div>			
				<p>Model distribution is a key part of federated learning, determining the type and scope of models assigned to clients.</p>
        <ul>
          <li><b>Full model distribution</b>: Each client receives the full model. This ensures that every node has the same topology of the model, leading to uniformity in training and evaluation processes across the network.</li>
          <li><b>Model splitting</b>: For large-scale models, the model can be divided into several parts and assigned across different clients. This allows for parallel processing of model training and reduces the computational burden on individual clients.</li>
          <li><b>Customizable topologies</b>: The customization of model topology is possible for specific federated learning task. Dynamic assignments can be adapted to changes in network conditions, client availability, and data distribution.</li>
        </ul>
				<p>Client nodes are assigned specific models or parts of a model. This assignment varies depending on the client's processing capabilities, the type and amount of data held, and their network location. Efficient node assignment is crucial for optimizing the overall system performance.</p>
			</section>

			<section id="parameter-aggregation-strategies"><div class="header-wrapper"><h3 id="x4-3-parameter-aggregation-strategies"><bdi class="secno">4.3 </bdi>Parameter Aggregation Strategies</h3><a class="self-link" href="#parameter-aggregation-strategies" aria-label="Permalink for Section 4.3"></a></div>			
				<p>The foundational algorithms for federated learning, Federated Averaging, or FedAvg, aggregates model updates by averaging them. The central server calculates a weighted average based on the number of data points from each client.</p>
			</section>  

			<section id="model-training-and-optimization"><div class="header-wrapper"><h3 id="x4-4-model-training-and-optimization"><bdi class="secno">4.4 </bdi>Model Training and Optimization</h3><a class="self-link" href="#model-training-and-optimization" aria-label="Permalink for Section 4.4"></a></div>			
				<p>For model training, clients can use their local data to train models. The frequency of synchronization with the central server varies based on the algorithm and design decisions. To further ensure data privacy, noise can be added to model updates, providing differential privacy. 
          This protects individual data points while allowing the central model to learn general patterns.</p>
			</section> 

			<section id="synchronous-and-asynchronous-learning"><div class="header-wrapper"><h3 id="x4-5-synchronous-and-asynchronous-learning"><bdi class="secno">4.5 </bdi>Synchronous and Asynchronous Learning</h3><a class="self-link" href="#synchronous-and-asynchronous-learning" aria-label="Permalink for Section 4.5"></a></div>			
				<p>Depending on the application, federated learning can operate in synchronous mode (all clients send updates simultaneously) or asynchronous mode (clients send updates at different times). The bandwidth optimization techniques such as model compression or quantization can be used to reduce the size of model updates, 
          optimizing for limited bandwidth scenarios.</p>
			</section>       

			<section id="parameter-server-operations"><div class="header-wrapper"><h3 id="x4-6-parameter-server-operations"><bdi class="secno">4.6 </bdi>Parameter Server Operations</h3><a class="self-link" href="#parameter-server-operations" aria-label="Permalink for Section 4.6"></a></div>			
				<p>A hierarchical structure can be used where multiple local aggregators collect updates before sending to the central server for large-scale deployments. Techniques and tools to optimize parameter server, such as model pruning of neural network, can be supported to make federated learning more optimalize for resource-constrained devices.</p>
			</section>   

		</section>

    <section id="requirements"><div class="header-wrapper"><h2 id="x5-requirements"><bdi class="secno">5. </bdi>Requirements</h2><a class="self-link" href="#requirements" aria-label="Permalink for Section 5."></a></div>
      <p>The functional requirements for Federated Learning API are produced in a high-level, functionally outline the essential 
        capabilities and specifications necessary to enable seamless communication, secure data transmission, and effective 
        coordination of federated learning systems. These requirements encompass device registration, data upload, 
        model synchronization, evaluation, result retrieval, training control, and ensuring security and privacy measures.</p>    

      <section id="general-requirements"><div class="header-wrapper"><h3 id="x5-1-general-requirements"><bdi class="secno">5.1 </bdi>General Requirements</h3><a class="self-link" href="#general-requirements" aria-label="Permalink for Section 5.1"></a></div>
				
        <p>The following requirements have been expressed.</p>
        <ul>
          <li>APIs <em style="color:red;" title="should" class="rfc2119">should</em> be accessible through a unified and structured namespace to ensure ease of understanding.</li>
          <li>APIs <em style="color:red;" title="should" class="rfc2119">should</em> provide operation for cancellation and error handling to improve resilience and controllability.</li>
          <li>APIs <em style="color:red;" title="should" class="rfc2119">should</em> be designed for supporting compatibility across various platforms and devices.</li>
          <li>The API architecture <em style="color:red;" title="should" class="rfc2119">should</em> be extensible, allowing for upgrade and management without breaking existing functionality.</li>
        </ul>
  
      </section>

			<section id="dev-registration"><div class="header-wrapper"><h3 id="x5-2-dev-registration"><bdi class="secno">5.2 </bdi>Device Registration</h3><a class="self-link" href="#dev-registration" aria-label="Permalink for Section 5.2"></a></div>
				
        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> provide secure endpoints to support registration for <font color="red">client</font> devices with the <font color="red">server</font> of federated learning system.</li>
          <li>The <font color="red">server</font> <em style="color:red;" title="should" class="rfc2119">should</em> validate client credentials and maintain a registry of authorized <font color="red">client</font> devices.</li>
        </ul>
			</section>

			<section id="data-upload"><div class="header-wrapper"><h3 id="x5-3-data-upload"><bdi class="secno">5.3 </bdi>Data Upload</h3><a class="self-link" href="#data-upload" aria-label="Permalink for Section 5.3"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> enable <font color="red">clients</font> to upload data securely to the <font color="red">server</font> by support encryption mechanism or data anonymization</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> support multiple data formats to provide efficient data transmission.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> provide metadata specification for various data formats.</li>
        </ul>
			</section>

			<section id="model-sync"><div class="header-wrapper"><h3 id="x5-4-model-sync"><bdi class="secno">5.4 </bdi>Model Synchronization</h3><a class="self-link" href="#model-sync" aria-label="Permalink for Section 5.4"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> offer endpoints for <font color="red">clients</font> to download global model and upload local model updates.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> offer endpoints for the <font color="red">server</font> to send back aggregated model updates.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> ensure secure and efficient transmission of model parameters (or gradients), considering network status including bandwidth and latency.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> facilitate version control of models to manage different iterations of the training process.</li>
        </ul>
			</section>

			<section id="model-evaluation"><div class="header-wrapper"><h3 id="x5-5-model-evaluation"><bdi class="secno">5.5 </bdi>Model Evaluation</h3><a class="self-link" href="#model-evaluation" aria-label="Permalink for Section 5.5"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> allow model evaluation and provide the reports of evaluation results.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> enable the <font color="red">server</font> to process evaluation requests on user demand.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> ensure that the evaluation metrics are consistent and accurately to measure model performance.</li>
        </ul>
			</section>      

			<section id="result-retrieval"><div class="header-wrapper"><h3 id="x5-6-result-retrieval"><bdi class="secno">5.6 </bdi>Result Retrieval</h3><a class="self-link" href="#result-retrieval" aria-label="Permalink for Section 5.6"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> provide secure endpoints for <font color="red">clients</font> to retrieve and search the final model or aggregated results.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> support versioning and tracking of different model iterations.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> include mechanisms for access control and verification of <font color="red">client</font> authorization.</li>
        </ul>
			</section>

			<section id="training-control"><div class="header-wrapper"><h3 id="x5-7-training-control"><bdi class="secno">5.7 </bdi>Training Control</h3><a class="self-link" href="#training-control" aria-label="Permalink for Section 5.7"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> provide endpoints for control model training process including initiating, pausing, and terminating the process.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> allow <font color="red">clients</font> and the <font color="red">server</font> to monitor training process and log of training status.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> enable dynamic adjustment of training hyper-parameters based on real-time feedback.</li>
        </ul>
			</section>

			<section id="security-privacy"><div class="header-wrapper"><h3 id="x5-8-security-privacy"><bdi class="secno">5.8 </bdi>Security and Privacy</h3><a class="self-link" href="#security-privacy" aria-label="Permalink for Section 5.8"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> incorporate end-to-end encryption for data and model transmission.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> implement robust authentication for client-server interactions.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> adhere to data privacy standards and allow for compliance of new regulations.</li>
        </ul>
			</section>

			<section id="extensibility-compatibility"><div class="header-wrapper"><h3 id="x5-9-extensibility-compatibility"><bdi class="secno">5.9 </bdi>Extensibility and Compatibility</h3><a class="self-link" href="#extensibility-compatibility" aria-label="Permalink for Section 5.9"></a></div>

        <p>The following requirements have been expressed.</p>
        <ul>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> be designed to facilitate the addition of new functionalities or endpoints.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">must</em> ensure backward compatibility with existing federated learning models and systems.</li>
          <li>The API <em style="color:red;" title="should" class="rfc2119">should</em> support integration with a variety web standards, framework, platforms, and tools.</li>
        </ul>
			</section>
      
		</section>

  </section>
		
  <section id="example-of-federated-learning-api"><div class="header-wrapper"><h2 id="x6-example-of-federated-learning-api"><bdi class="secno">6. </bdi>Example of Federated Learning API</h2><a class="self-link" href="#example-of-federated-learning-api" aria-label="Permalink for Section 6."></a></div>

    <p>The sequence diagram depicts a federated learning process involving a server and multiple client nodes. 
    </p>

      <figure id="federated-learning-process">
        <img src="images/example1.png" alt="federated learning process involving a server and multiple client nodes">
        <figcaption> <span class="fig-title">Figure 2. Federated Learning Process involving a Server and Multiple Client Nodes</span></figcaption>
      </figure>

    <p>
      Followings are the steps shown in the diagram:
      <ol>
        <li><b>Initial Global Model</b>: The process starts with the server having an initial global model.</li>
        <li><b>Sending New Model to Clients</b>: The server sends this initial model to the clients.</li>
        <li><b>Local Training and Testing</b>: Each client (Client 1, Client 2, etc.) then trains and tests the model with their local data. This is referred to as 'local model 1' and 'local model 2' for each respective client.</li>
        <li><b>Requesting Local Models</b>: After training, the server requests the updated local models from the clients.</li>
        <li><b>Sending Local Models to Server</b>: The clients send their locally trained models back to the server.</li>       
        <li><b>Aggregation of Local Models</b>: The server aggregates these local models. This could involve averaging the weights or applying more complex aggregation algorithms.</li> 
        <li><b>Sending Updated Global Model</b>: Finally, the server sends the updated global model back to the clients, and the process can repeat, as indicated by the loop in the diagram.</li>    
      </ol>  
    </p>
    <p>
      This iterative process improves the global model over time while preserving the privacy of the local data. Followings are candidates or example of high-level API descriptions for web federated learning, considering the above steps: 
    </p>
    <p>
      <b>Model and parameter transmission API:</b>
      <ol>
        <li><b>Distribute global model {/api/post/global-model}</b>: Server use this endpoint to send the latest global model to the client. The client responds with the model file or parameters acceptance.</li>
        <li><b>Get local model {/api/get/local-model}</b>: Clients send their locally trained model updates to this API. The request includes model parameters and possibly metadata about the local training.</li>
        <li><b>Request updated weights of local model {/api/post/local-model}</b>: The server requests the trained model weights from the clients.</li>
        <li><b>Get global model {/api/global-mode}l</b>: Clients fetch the current global model from the server.</li>
        <li><b>Aggregate models {/api/model/aggregate}</b>: The server receives models from the clients to trigger the aggregation process. The response would contain the aggregated model parameters.</li>       
      </ol>  
    </p>
    <p>
      <b>Federated Learning execution and management API:</b>
      <ol>
        <li><b>Load model {/api/models/load}</b>: The server loads a global model into the training environment. The request payload includes the model identifier or path to the model file.</li>    
        <li><b>Initiating learning {/api/training/start}</b>: The server initiates the federated learning algorithms. This API should include training parameters such as batch size, number of epochs, and learning rate.</li>
        <li><b>Configuration of schedule {/api/training/schedule}</b>: The server schedules training tasks. The request could specify timing, frequency, and priority of updating or aggregation of parameters.</li>
        <li><b>Model evaluation {/api/evaluation/start}</b>: The server starts the evaluation of the global model using a validation dataset. The request should include details about the dataset and evaluation metrics.</li>
        <li><b>Post evaluation {/api/evaluation/results}</b>: Clients or server fetch the evaluation results after the computation is complete.</li>
        <li><b>Training status management {/api/training/status}</b>: Clients or server query the status of the training process and status, including progress and any errors.</li>
        <li><b>Control training process {/api/training/control}</b>: Allows pausing, resuming, or stopping the training process as needed. The request specifies the control action to be taken.</li>       
      </ol>  
    </p>

  </section>

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>
